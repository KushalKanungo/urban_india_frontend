<div class="search-wrapper">
  <div class="search-inner">
    <input
      class="search p-1"
      type="text"
      placeholder="Search"
      [(ngModel)]="filter.searchQuery"
      (keyup.enter)="appliedFilter()"
    />
    <p-button
      class="mx-2"
      (click)="showDialog()"
      icon="pi pi-filter"
      label=""
    ></p-button>
    <p-button class="mx-1" icon="pi pi-search" label=""></p-button>
  </div>
</div>

<p-dialog
  header="Filter"
  [(visible)]="visible"
  [modal]="true"
  [style]="{
    width: '400px',
    height: '50vh',
    minHeight: '400px'
  }"
  [draggable]="false"
  [resizable]="false"
  [scrollTop]="true"
  (onHide)="appliedFilter()"
  [breakpoints]="{ '960px': '75vw', '500px': '92vw' }"
>
  <p-multiSelect
    [options]="businesses"
    appendTo="body"
    [(ngModel)]="filter.listOfBusinessIds"
    defaultLabel="Select a business"
    styleClass="mt-4"
    [style]="{ width: '20rem' }"
    [panelStyle]="{ width: '20rem' }"
  >
    ></p-multiSelect
  >
  <div class="mt-4">
    <p-slider
      styleClass="mt-2"
      [(ngModel)]="filter.priceRange"
      [range]="true"
    ></p-slider>
    <div class="d-flex justify-content-between mt-2">
      <span class="">
        {{
          filter.priceRange[0] * 100 | currency : "INR" : "symbol" : "1.0-0"
        }}</span
      >
      <span class="">
        {{
          filter.priceRange[1] * 100 | currency : "INR" : "symbol" : "1.0-0"
        }}</span
      >
    </div>
  </div>
  <p-multiSelect
    [options]="servicesTypes"
    appendTo="body"
    [showClear]="true"
    [(ngModel)]="filter.listOfBusinessServiceIds"
    defaultLabel="Select a business service type"
    styleClass="mt-4"
    [style]="{ width: '20rem' }"
    [panelStyle]="{ width: '20rem' }"
  >
    ></p-multiSelect
  >
</p-dialog>
